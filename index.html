<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Social Post Component Demo</title>
    <link rel="stylesheet" href="src/styles.css" />
  </head>
  <body>
    <div class="demo-container">
      <h1>üê¶ Social Post Web Component Demo</h1>

      <div class="demo-section">
        <h2>Interactive Demo</h2>
        <div class="controls">
          <h3>Customize the Post</h3>
          <div class="control-group">
            <label for="displayName">Display Name:</label>
            <input type="text" id="displayName" value="Jane Doe" />
          </div>
          <div class="control-group">
            <label for="username">Username:</label>
            <input type="text" id="username" value="janedoe" />
          </div>
          <div class="control-group">
            <label for="avatar">Avatar URL:</label>
            <input
              type="text"
              id="avatar"
              value="https://images.unsplash.com/photo-1494790108755-2616b612b1fc?w=100&h=100&fit=crop&crop=face"
            />
          </div>
          <div class="control-group">
            <label for="timestamp">Timestamp:</label>
            <input type="text" id="timestamp" value="2h ago" />
          </div>
          <div class="control-group">
            <label for="content">Content:</label>
            <textarea id="content">
It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English.</textarea
            >
          </div>
          <div class="control-group">
            <label for="likes">Likes:</label>
            <input type="number" id="likes" value="42" />
          </div>
          <div class="control-group">
            <label for="theme">Theme:</label>
            <select id="theme">
              <option value="light">Light</option>
              <option value="dark">Dark</option>
            </select>
          </div>
          <div class="button-group">
            <button onclick="updatePost()">Update Post</button>
            <button onclick="addLike()">Add Like</button>
            <button onclick="toggleTheme()">Toggle Theme</button>
          </div>
        </div>

        <div class="demo-grid">
          <social-post
            id="demo-post"
            username="janedoe"
            display-name="Jane Doe"
            avatar="https://images.unsplash.com/photo-1494790108755-2616b612b1fc?w=100&h=100&fit=crop&crop=face"
            timestamp="2h ago"
            content="It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English."
            likes="42"
            theme="light"
          >
          </social-post>
        </div>
      </div>

      <div class="demo-section">
        <h2>Example Posts</h2>
        <div class="demo-grid" id="example-posts"></div>
      </div>

      <div class="demo-section">
        <h2>Usage Examples</h2>

        <h3>HTML Attributes</h3>
        <div class="code-example">
          <pre>
&lt;social-post
  username="janedoe"
  display-name="Jane Doe"
  avatar="https://example.com/avatar.jpg"
  timestamp="2h ago"
  content="Your post content here..."
  likes="42"
  theme="light"&gt;
&lt;/social-post&gt;</pre
          >
        </div>

        <h3>JavaScript Properties</h3>
        <div class="code-example">
          <pre>
const post = document.createElement('social-post');
post.username = 'johndoe';
post.displayName = 'John Doe';
post.avatar = 'https://example.com/avatar.jpg';
post.content = 'Hello world!';
post.likes = 15;
post.theme = 'dark';
document.body.appendChild(post);</pre
          >
        </div>

        <h3>Methods</h3>
        <div class="code-example">
          <pre>
// Increment likes
post.incrementLikes();

// Change theme
post.setTheme('dark');</pre
          >
        </div>
      </div>
    </div>

    <script type="module" src="src/social-post.js"></script>
    <script type="module">
      import { posts } from "./src/social-post/demo-posts.js";

      // Render example posts dynamically
      const postsGrid = document.getElementById("example-posts");
      if (postsGrid && posts && Array.isArray(posts)) {
        posts.forEach((post) => {
          const el = document.createElement("social-post");
          el.setAttribute("username", post.username);
          el.setAttribute("display-name", post.displayName);
          el.setAttribute("avatar", post.avatar);
          el.setAttribute("timestamp", post.timestamp);
          el.setAttribute("content", post.content);
          el.setAttribute("likes", post.likes);
          el.setAttribute("theme", post.theme);
          postsGrid.appendChild(el);
        });
      }

      // Expose functions globally for inline onclick handlers
      window.updatePost = function updatePost() {
        const post = document.getElementById("demo-post");
        post.displayName = document.getElementById("displayName").value;
        post.username = document.getElementById("username").value;
        post.avatar = document.getElementById("avatar").value;
        post.timestamp = document.getElementById("timestamp").value;
        post.content = document.getElementById("content").value;
        post.likes = document.getElementById("likes").value;
        post.theme = document.getElementById("theme").value;
      };

      window.addLike = function addLike() {
        const post = document.getElementById("demo-post");
        post.incrementLikes();
        document.getElementById("likes").value = post.likes;
      };

      window.toggleTheme = function toggleTheme() {
        const post = document.getElementById("demo-post");
        const newTheme = post.theme === "light" ? "dark" : "light";
        post.setTheme(newTheme);
        document.getElementById("theme").value = newTheme;
      };

      // Add any additional interactivity to all posts here if needed
      document.addEventListener("DOMContentLoaded", function () {
        // No random like increases
      });
    </script>
  </body>
</html>
